import 'package:streptopelia_orientalis/data/drift/app_database.dart';
import 'package:streptopelia_orientalis/data/drift/entities/record_entity.dart';

class DatabaseService {
  final AppDatabase _database;

  DatabaseService(this._database);

  // ÂàùÂßãÂåñÈªòËÆ§ËÆ∞ÂΩïÁ±ªÂûã
  Future<void> importItemData() async {
    final recordType = RecordTypeEntity(
      id: 1,
      name: 'ÊÖ∞ËÆ∞',
      description: 'ÂàùÂßãÊµãËØïÊï∞ÊçÆ',
      color: '#FF0084',
      icon: 'üçÜ',
      createdAt: DateTime.now(),
    );
    await _database.recordTypeDao.insertRecordType(recordType);
    // await recordTypeDaoProvider.insertRecordType(recordType);
  }

  Future<void> importRecordData() async {
    final recordsData = [
      {"id": 3, "timestamp": 1692208816827},
      {"id": 4, "timestamp": 1692470602431},
      {"id": 7, "timestamp": 1692644925569},
      {"id": 11, "timestamp": 1692899398538},
      {"id": 13, "timestamp": 1693132509162},
      {"id": 14, "timestamp": 1693632017827},
      {"id": 16, "timestamp": 1693752801404},
      {"id": 20, "timestamp": 1693916483094},
      {"id": 21, "timestamp": 1693985888466},
      {"id": 23, "timestamp": 1694195928538},
      {"id": 24, "timestamp": 1694591900113},
      {"id": 26, "timestamp": 1694717154163},
      {"id": 29, "timestamp": 1694939344700},
      {"id": 30, "timestamp": 1695146047941},
      {"id": 33, "timestamp": 1695490450153},
      {"id": 34, "timestamp": 1695726307602},
      {"id": 36, "timestamp": 1695927344060},
      {"id": 38, "timestamp": 1695999681411},
      {"id": 39, "timestamp": 1696171853056},
      {"id": 40, "timestamp": 1696238539711},
      {"id": 41, "timestamp": 1696277111043},
      {"id": 42, "timestamp": 1696438186403},
      {"id": 44, "timestamp": 1696532050273},
      {"id": 45, "timestamp": 1696961412416},
      {"id": 48, "timestamp": 1697185263271},
      {"id": 49, "timestamp": 1697465129145},
      {"id": 50, "timestamp": 1697481112640},
      {"id": 52, "timestamp": 1697917077330},
      {"id": 53, "timestamp": 1698257284709},
      {"id": 56, "timestamp": 1698394205817},
      {"id": 59, "timestamp": 1698513889169},
      {"id": 61, "timestamp": 1698826518556},
      {"id": 65, "timestamp": 1699329051786},
      {"id": 66, "timestamp": 1699436136682},
      {"id": 67, "timestamp": 1699606069953},
      {"id": 68, "timestamp": 1699729073126},
      {"id": 70, "timestamp": 1699806624780},
      {"id": 73, "timestamp": 1700068227525},
      {"id": 74, "timestamp": 1700156438596},
      {"id": 79, "timestamp": 1700548252202},
      {"id": 80, "timestamp": 1700677933264},
      {"id": 84, "timestamp": 1700852574874},
      {"id": 87, "timestamp": 1700989703757},
      {"id": 89, "timestamp": 1701110248082},
      {"id": 90, "timestamp": 1701339345597},
      {"id": 91, "timestamp": 1701365238220},
      {"id": 92, "timestamp": 1701549631073},
      {"id": 93, "timestamp": 1701758296228},
      {"id": 94, "timestamp": 1701856397762},
      {"id": 95, "timestamp": 1701972910477},
      {"id": 99, "timestamp": 1702351474177},
      {"id": 100, "timestamp": 1702716419626},
      {"id": 101, "timestamp": 1703181505902},
      {"id": 102, "timestamp": 1703266563513},
      {"id": 105, "timestamp": 1703527936182},
      {"id": 106, "timestamp": 1703789965860},
      {"id": 107, "timestamp": 1703829130351},
      {"id": 108, "timestamp": 1703950840764},
      {"id": 110, "timestamp": 1703952762040},
      {"id": 111, "timestamp": 1703966686856},
      {"id": 112, "timestamp": 1704048078410},
      {"id": 114, "timestamp": 1704142571863},
      {"id": 117, "timestamp": 1704271620721},
      {"id": 118, "timestamp": 1704379427638},
      {"id": 119, "timestamp": 1704379429452},
      {"id": 120, "timestamp": 1704467350534},
      {"id": 122, "timestamp": 1704701465664},
      {"id": 126, "timestamp": 1705152002402},
      {"id": 127, "timestamp": 1705327367794},
      {"id": 128, "timestamp": 1705327368206},
      {"id": 129, "timestamp": 1705514283265},
      {"id": 132, "timestamp": 1705756681268},
      {"id": 133, "timestamp": 1705935816718},
      {"id": 135, "timestamp": 1706017001353},
      {"id": 137, "timestamp": 1706295573219},
      {"id": 138, "timestamp": 1706722627387},
      {"id": 139, "timestamp": 1706726000752},
      {"id": 141, "timestamp": 1706905604999},
      {"id": 142, "timestamp": 1707053934667},
      {"id": 143, "timestamp": 1707124350104},
      {"id": 145, "timestamp": 1707415571680},
      {"id": 146, "timestamp": 1707536298919},
      {"id": 148, "timestamp": 1707895698290},
      {"id": 149, "timestamp": 1707896242408},
      {"id": 150, "timestamp": 1708336208286},
      {"id": 151, "timestamp": 1708595797191},
      {"id": 152, "timestamp": 1708630826923},
      {"id": 153, "timestamp": 1708792790565},
      {"id": 156, "timestamp": 1709541432074},
      {"id": 157, "timestamp": 1709743888218},
      {"id": 158, "timestamp": 1709976620012},
      {"id": 159, "timestamp": 1710263963213},
      {"id": 160, "timestamp": 1710437770028},
      {"id": 162, "timestamp": 1710519366039},
      {"id": 163, "timestamp": 1710744625135},
      {"id": 164, "timestamp": 1710951147429},
      {"id": 165, "timestamp": 1711066114782},
      {"id": 166, "timestamp": 1711128875072},
      {"id": 167, "timestamp": 1711270078282},
      {"id": 168, "timestamp": 1711434259761},
      {"id": 170, "timestamp": 1711643949667},
      {"id": 171, "timestamp": 1711899075183},
      {"id": 173, "timestamp": 1712427791751},
      {"id": 174, "timestamp": 1712430975329},
      {"id": 175, "timestamp": 1712469766148},
      {"id": 176, "timestamp": 1712679603084},
      {"id": 178, "timestamp": 1712900920541},
      {"id": 179, "timestamp": 1712906663660},
      {"id": 181, "timestamp": 1713512675037},
      {"id": 182, "timestamp": 1713808047493},
      {"id": 183, "timestamp": 1713895568500},
      {"id": 184, "timestamp": 1714063568721},
      {"id": 186, "timestamp": 1714288807829},
      {"id": 188, "timestamp": 1714413061702},
      {"id": 189, "timestamp": 1714496388498},
      {"id": 190, "timestamp": 1714838116163},
      {"id": 191, "timestamp": 1714896931251},
      {"id": 192, "timestamp": 1714925683030},
      {"id": 193, "timestamp": 1714933057463},
      {"id": 194, "timestamp": 1715069548951},
      {"id": 195, "timestamp": 1715277634512},
      {"id": 196, "timestamp": 1715327638558},
      {"id": 198, "timestamp": 1715588028697},
      {"id": 199, "timestamp": 1715789854746},
      {"id": 200, "timestamp": 1715960565467},
      {"id": 201, "timestamp": 1716086335920},
      {"id": 202, "timestamp": 1716397486056},
      {"id": 204, "timestamp": 1716538176286},
      {"id": 205, "timestamp": 1716602062927},
      {"id": 206, "timestamp": 1717092962982},
      {"id": 208, "timestamp": 1717607868945},
      {"id": 209, "timestamp": 1717745037511},
      {"id": 210, "timestamp": 1717783813318},
      {"id": 212, "timestamp": 1717857557502},
      {"id": 213, "timestamp": 1718035902972},
      {"id": 214, "timestamp": 1718131457689},
      {"id": 216, "timestamp": 1718331937489},
      {"id": 217, "timestamp": 1718436694482},
      {"id": 218, "timestamp": 1718993347019},
      {"id": 219, "timestamp": 1719249844554},
      {"id": 220, "timestamp": 1719508982772},
      {"id": 221, "timestamp": 1719570451337},
      {"id": 223, "timestamp": 1719858969154},
      {"id": 224, "timestamp": 1719923415706},
      {"id": 225, "timestamp": 1720451228632},
      {"id": 226, "timestamp": 1720451229038},
      {"id": 227, "timestamp": 1720773999974},
      {"id": 228, "timestamp": 1720869091051},
      {"id": 229, "timestamp": 1721107150336},
      {"id": 230, "timestamp": 1721231012008},
      {"id": 231, "timestamp": 1721231012571},
      {"id": 232, "timestamp": 1721458177609},
      {"id": 233, "timestamp": 1721529103356},
      {"id": 234, "timestamp": 1721888811258},
      {"id": 235, "timestamp": 1723475442627},
      {"id": 236, "timestamp": 1723816886653},
      {"id": 237, "timestamp": 1724065002655},
      {"id": 238, "timestamp": 1724065003265},
      {"id": 239, "timestamp": 1724065003882},
      {"id": 240, "timestamp": 1724562808284},
      {"id": 241, "timestamp": 1725035553487},
      {"id": 242, "timestamp": 1725035553869},
      {"id": 243, "timestamp": 1725193220176},
      {"id": 244, "timestamp": 1725522028497},
      {"id": 245, "timestamp": 1725931511576},
      {"id": 246, "timestamp": 1725953546751},
      {"id": 247, "timestamp": 1726225167580},
      {"id": 248, "timestamp": 1726398529465},
      {"id": 249, "timestamp": 1726797529186},
      {"id": 250, "timestamp": 1727101516417},
      {"id": 251, "timestamp": 1727345509278},
      {"id": 252, "timestamp": 1727519011415},
      {"id": 253, "timestamp": 1727592887330},
      {"id": 254, "timestamp": 1727688409650},
      {"id": 255, "timestamp": 1727776935439},
      {"id": 256, "timestamp": 1727939316190},
      {"id": 257, "timestamp": 1728068978898},
      {"id": 258, "timestamp": 1728447465029},
      {"id": 259, "timestamp": 1728544181430},
      {"id": 260, "timestamp": 1728813923906},
      {"id": 261, "timestamp": 1728816302190},
      {"id": 262, "timestamp": 1729241255278},
      {"id": 263, "timestamp": 1729492226208},
      {"id": 264, "timestamp": 1729502800499},
      {"id": 265, "timestamp": 1729776337916},
      {"id": 266, "timestamp": 1730295574879},
      {"id": 267, "timestamp": 1730642806751},
      {"id": 268, "timestamp": 1730647641199},
      {"id": 269, "timestamp": 1730881189364},
      {"id": 270, "timestamp": 1731070887810},
      {"id": 271, "timestamp": 1731313700027},
      {"id": 272, "timestamp": 1731606048856},
      {"id": 273, "timestamp": 1731948650797},
      {"id": 274, "timestamp": 1732006321466},
      {"id": 275, "timestamp": 1732311303361},
      {"id": 276, "timestamp": 1732690454521},
      {"id": 277, "timestamp": 1732875607602},
      {"id": 278, "timestamp": 1733046853320},
      {"id": 279, "timestamp": 1733219101743},
      {"id": 280, "timestamp": 1733219103020},
      {"id": 281, "timestamp": 1733344312425},
      {"id": 282, "timestamp": 1733691785620},
      {"id": 283, "timestamp": 1733751942546},
      {"id": 284, "timestamp": 1733930767830},
      {"id": 285, "timestamp": 1734105678034},
      {"id": 286, "timestamp": 1734111037440},
      {"id": 287, "timestamp": 1734265949390},
      {"id": 288, "timestamp": 1734441680404},
      {"id": 289, "timestamp": 1734788789627},
      {"id": 290, "timestamp": 1735052240879},
      {"id": 291, "timestamp": 1735057262467},
      {"id": 292, "timestamp": 1735148227409},
      {"id": 293, "timestamp": 1735172395129},
      {"id": 294, "timestamp": 1735251483076},
      {"id": 295, "timestamp": 1735496914039},
      {"id": 296, "timestamp": 1735934234066},
      {"id": 297, "timestamp": 1736117707004},
      {"id": 298, "timestamp": 1736318086818},
      {"id": 299, "timestamp": 1736583306234},
      {"id": 300, "timestamp": 1736684527360},
      {"id": 301, "timestamp": 1736860412983},
      {"id": 302, "timestamp": 1737138902771},
      {"id": 303, "timestamp": 1737548928375},
      {"id": 304, "timestamp": 1737548929760},
      {"id": 305, "timestamp": 1737739828877},
      {"id": 306, "timestamp": 1737845177424},
      {"id": 307, "timestamp": 1738160965868},
      {"id": 308, "timestamp": 1738349660657},
      {"id": 309, "timestamp": 1738517530989},
      {"id": 310, "timestamp": 1738701526822},
      {"id": 311, "timestamp": 1738710477962},
      {"id": 312, "timestamp": 1739194206464},
      {"id": 313, "timestamp": 1739342260878},
      {"id": 314, "timestamp": 1739501550381},
      {"id": 315, "timestamp": 1739611115328},
      {"id": 316, "timestamp": 1739812092278},
      {"id": 317, "timestamp": 1739983117053},
      {"id": 318, "timestamp": 1740336405207},
      {"id": 319, "timestamp": 1740668605848},
      {"id": 320, "timestamp": 1740818382776},
      {"id": 321, "timestamp": 1740853014557},
      {"id": 322, "timestamp": 1740911467243},
      {"id": 323, "timestamp": 1741036313730},
      {"id": 324, "timestamp": 1741201581200},
      {"id": 325, "timestamp": 1741538937384},
      {"id": 326, "timestamp": 1741538938595},
      {"id": 327, "timestamp": 1742091625694},
      {"id": 328, "timestamp": 1742417729283},
      {"id": 329, "timestamp": 1742434432268},
      {"id": 330, "timestamp": 1742543274350},
      {"id": 331, "timestamp": 1742588473949},
      {"id": 332, "timestamp": 1742713150344},
      {"id": 333, "timestamp": 1742767326095},
      {"id": 334, "timestamp": 1743140865804},
      {"id": 335, "timestamp": 1743692909099},
      {"id": 336, "timestamp": 1744082501501},
      {"id": 337, "timestamp": 1744379280104},
      {"id": 338, "timestamp": 1744715819212},
      {"id": 339, "timestamp": 1744905816704},
      {"id": 340, "timestamp": 1745127820503},
      {"id": 341, "timestamp": 1745132653258},
      {"id": 342, "timestamp": 1745337746350},
      {"id": 343, "timestamp": 1745432318191},
      {"id": 344, "timestamp": 1745514752057},
      {"id": 345, "timestamp": 1745788138857},
      {"id": 346, "timestamp": 1746114151023},
      {"id": 347, "timestamp": 1746321890763},
      {"id": 348, "timestamp": 1746562999293},
      {"id": 349, "timestamp": 1746654264651},
      {"id": 350, "timestamp": 1746820268391},
      {"id": 351, "timestamp": 1746940888643},
      {"id": 352, "timestamp": 1747089437927},
      {"id": 353, "timestamp": 1747696491722},
      {"id": 354, "timestamp": 1747806101741},
      {"id": 355, "timestamp": 1747813047543},
      {"id": 356, "timestamp": 1747815518150},
      {"id": 357, "timestamp": 1747904458780},
      {"id": 358, "timestamp": 1748023680803},
      {"id": 359, "timestamp": 1748167300624},
      {"id": 360, "timestamp": 1748611891395},
      {"id": 361, "timestamp": 1748611892288},
      {"id": 362, "timestamp": 1748618176023},
      {"id": 363, "timestamp": 1748673386497},
      {"id": 364, "timestamp": 1748698590703},
      {"id": 365, "timestamp": 1748777268736},
      {"id": 366, "timestamp": 1748879992241},
      {"id": 367, "timestamp": 1748888312029},
      {"id": 368, "timestamp": 1748944145312},
      {"id": 369, "timestamp": 1748951100025},
      {"id": 370, "timestamp": 1749067676453},
      {"id": 371, "timestamp": 1749137899992},
      {"id": 372, "timestamp": 1749137915038},
      {"id": 373, "timestamp": 1749140965044},
      {"id": 374, "timestamp": 1749247904543},
      {"id": 375, "timestamp": 1749327844153},
      {"id": 376, "timestamp": 1749366747151},
      {"id": 377, "timestamp": 1749498717715},
      {"id": 378, "timestamp": 1749498718488},
      {"id": 379, "timestamp": 1749742903765},
      {"id": 380, "timestamp": 1749742905611},
      {"id": 382, "timestamp": 1749930425103},
      {"id": 383, "timestamp": 1749977226853},
      {"id": 384, "timestamp": 1750074188348},
      {"id": 385, "timestamp": 1750118174981},
      {"id": 386, "timestamp": 1750183725008},
      {"id": 387, "timestamp": 1750270419830},
      {"id": 388, "timestamp": 1750367891991},
      {"id": 389, "timestamp": 1750422122678},
      {"id": 390, "timestamp": 1750628255026},
      {"id": 391, "timestamp": 1750689126392},
      {"id": 392, "timestamp": 1750870003562},
      {"id": 393, "timestamp": 1751066367129},
      {"id": 394, "timestamp": 1751157145780},
      {"id": 395, "timestamp": 1751217046220},
      {"id": 396, "timestamp": 1751251187559},
      {"id": 397, "timestamp": 1751315522002},
      {"id": 398, "timestamp": 1751589886258},
      {"id": 399, "timestamp": 1751606980496},
      {"id": 400, "timestamp": 1751673803995},
      {"id": 401, "timestamp": 1751868844745},
      {"id": 402, "timestamp": 1752068039589},
      {"id": 403, "timestamp": 1752068043623},
      {"id": 404, "timestamp": 1752126922695},
      {"id": 405, "timestamp": 1752225118749},
      {"id": 406, "timestamp": 1752300908459},
      {"id": 407, "timestamp": 1752369608377},
      {"id": 408, "timestamp": 1752398326741},
      {"id": 409, "timestamp": 1752405606160},
      {"id": 410, "timestamp": 1752470857160},
      {"id": 411, "timestamp": 1752868091378},
      {"id": 412, "timestamp": 1753174496246},
      {"id": 413, "timestamp": 1753383400853},
      {"id": 414, "timestamp": 1753480140435},
      {"id": 415, "timestamp": 1753529030594},
      {"id": 416, "timestamp": 1753538562368},
      {"id": 417, "timestamp": 1753812627408},
      {"id": 418, "timestamp": 1753889942886},
      {"id": 419, "timestamp": 1754058398090},
      {"id": 420, "timestamp": 1754058399536},
      {"id": 421, "timestamp": 1754086463450},
      {"id": 422, "timestamp": 1754182900568},
      {"id": 423, "timestamp": 1754261845946},
      {"id": 424, "timestamp": 1754276221683},
      {"id": 425, "timestamp": 1754438939655},
      {"id": 426, "timestamp": 1754616646868},
      {"id": 427, "timestamp": 1754721251425},
      {"id": 428, "timestamp": 1754986454885},
      {"id": 429, "timestamp": 1755308361686},
      {"id": 430, "timestamp": 1755661815357},
      {"id": 431, "timestamp": 1756010509968},
      {"id": 432, "timestamp": 1756527585747},
      {"id": 433, "timestamp": 1756610119634},
      {"id": 434, "timestamp": 1756620225927},
      {"id": 435, "timestamp": 1756900179741},
      {"id": 436, "timestamp": 1757177411532},
      {"id": 437, "timestamp": 1757522363244},
      {"id": 438, "timestamp": 1757695036240},
      {"id": 439, "timestamp": 1757844012805},
      {"id": 440, "timestamp": 1757999379166},
      {"id": 441, "timestamp": 1758104311104},
      {"id": 442, "timestamp": 1758165158216},
      {"id": 443, "timestamp": 1758282102556},
      {"id": 444, "timestamp": 1758768582907},
      {"id": 445, "timestamp": 1759094709132},
      {"id": 446, "timestamp": 1759095440213},
      {"id": 447, "timestamp": 1759255363053},
      {"id": 448, "timestamp": 1759265721927},
      {"id": 449, "timestamp": 1759351340565},
      {"id": 450, "timestamp": 1759445120123},
      {"id": 451, "timestamp": 1759525283177},
      {"id": 452, "timestamp": 1759540575387},
      {"id": 453, "timestamp": 1759616245489},
      {"id": 454, "timestamp": 1759616246973},
      {"id": 455, "timestamp": 1759689460314},
      {"id": 456, "timestamp": 1759790418108},
      {"id": 457, "timestamp": 1759826911534},
      {"id": 458, "timestamp": 1760303098591},
      {"id": 459, "timestamp": 1760477455950},
      {"id": 460, "timestamp": 1760655552857},
      {"id": 461, "timestamp": 1760852658245},
    ];

    // final List<RecordEntity> recordsToInsert = [];

    for (final recordMap in recordsData) {
      final id = recordMap['id'];
      final timestampMs = recordMap['timestamp'];

      if (id == null || timestampMs == null) {
        // Ë∑≥ËøáÊó†ÊïàÊï∞ÊçÆ
        continue;
      }

      final timestamp = DateTime.fromMillisecondsSinceEpoch(timestampMs);

      final record = RecordEntity(
        recordTypeId: 1,
        title: 'ËÆ∞ÂΩï $id',
        content: '‰ªéÊóßÊï∞ÊçÆÂØºÂÖ•ÁöÑËÆ∞ÂΩï',
        status: 'active',
        createdAt: timestamp
      );

      await _database.recordDao.insertRecord(record);
    }
  }

  /// ÂÆåÊï¥ÂØºÂÖ•
  Future<void> importAllData() async {
    await importItemData();
    await importRecordData();
  }
}
