```sql
-- 记录类型表：定义记录的分类（如上班打卡、隐私记录、财务记录等）
CREATE TABLE "record_types"
(
    "id"          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "name"        TEXT    NOT NULL, -- 类型名称，如"xxx记"
    "description" TEXT    NULL,     -- 描述
    "icon"        TEXT    NULL,     -- 图标
    "color"       TEXT    NULL,     -- 颜色
    "categories_id" INTEGER NOT NULL, -- 外键：关联到 categories
    "config"      TEXT    NULL,     -- 配置信息（JSON格式）
    "created_at"  TEXT    NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "updated_at"  TEXT    NOT NULL DEFAULT (CURRENT_TIMESTAMP)
);

-- 记录主表：存储具体记录
CREATE TABLE "records"
(
    "id"             INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "record_type_id" INTEGER NOT NULL, -- 外键：关联到 record_types
    "title"          TEXT    NOT NULL, -- 记录标题
    "content"        TEXT    NULL,     -- 记录内容
    "metadata"       TEXT    NULL,     -- 元数据（JSON格式）
    "category_id"    INTEGER NULL,     -- 外键：关联到 categories
    "parent_id"      INTEGER NULL,     -- 自关联：父记录ID
    "status"         TEXT    NOT NULL DEFAULT 'active',
    "start_time"     TEXT    NULL,     -- 开始时间
    "end_time"       TEXT    NULL,     -- 结束时间
    "created_at"     TEXT    NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "updated_at"     TEXT    NOT NULL DEFAULT (CURRENT_TIMESTAMP)
);

-- 媒体文件表：存储记录相关的图片、视频等
CREATE TABLE "media_files"
(
    "id"            INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "record_id"     INTEGER NOT NULL, -- 外键：关联到 records
    "file_path"     TEXT    NOT NULL, -- 文件路径
    "file_type"     TEXT    NOT NULL, -- 文件类型
    "original_name" TEXT    NOT NULL, -- 原始文件名
    "file_size"     INTEGER NOT NULL, -- 文件大小
    "metadata"      TEXT    NULL,     -- 文件元数据
    "created_at"    TEXT    NOT NULL DEFAULT (CURRENT_TIMESTAMP)
);

-- 分类表：为记录提供分类
CREATE TABLE "categories"
(
    "id"          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "name"        TEXT    NOT NULL, -- 分类名称
    "description" TEXT    NULL,     -- 分类描述
    "color"       TEXT    NULL,     -- 分类颜色
    "parent_id"   INTEGER NULL,     -- 自关联：父分类ID
    "sort_order"  INTEGER NOT NULL DEFAULT 0,
    "created_at"  TEXT    NOT NULL DEFAULT (CURRENT_TIMESTAMP)
);

-- 自定义字段表：为不同类型定义特定字段
CREATE TABLE "custom_fields"
(
    "id"             INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "record_id"       INTEGER NOT NULL, -- 外键：关联到 records
    "record_type_id" INTEGER NOT NULL, -- 外键：关联到 record_types
    "key"     TEXT    NOT NULL, -- 字段名
    "value"     TEXT    NOT NULL, -- 字段值
    "type"     TEXT    NOT NULL, -- 字段类型
    "label"    TEXT    NOT NULL, -- 字段标签
    "config"   TEXT    NULL,     -- 字段配置
    "is_required"    INTEGER NOT NULL DEFAULT 0,
    "sort_order"     INTEGER NOT NULL DEFAULT 0,
    "created_at"     TEXT    NOT NULL DEFAULT (CURRENT_TIMESTAMP)
);

-- 用户设置表：存储用户偏好
CREATE TABLE "user_settings"
(
    "id"            INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "setting_key"   TEXT    NOT NULL UNIQUE, -- 设置键
    "setting_value" TEXT    NOT NULL,        -- 设置值
    "setting_type"  TEXT    NOT NULL DEFAULT 'string',
    "created_at"    TEXT    NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "updated_at"    TEXT    NOT NULL DEFAULT (CURRENT_TIMESTAMP)
);
```
